dist: xenial
language: python
python:
  - '3.5'
  - '3.6'
  - '3.7'
install:
  - pip install tox-travis
  - pip install coveralls
  - if [[ $TRAVIS_PYTHON_VERSION == 3.7 ]]; then pip install black flake8 bandit; fi
script:
  - tox
  - if [[ $TRAVIS_PYTHON_VERSION == 3.7 ]]; then black . --check; fi
  - if [[ $TRAVIS_PYTHON_VERSION == 3.7 ]]; then flake8 .; fi
  - if [[ $TRAVIS_PYTHON_VERSION == 3.7 ]]; then bandit letsagree/*; fi
services:
  - postgresql
  - mysql
addons:
  mariadb: 10.3
after_success:
  - coveralls
